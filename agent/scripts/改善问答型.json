{
  "nodes": [
    {
      "data": {
        "form": {
          "prologue": "你好！ 我是宝捷冲片有限公司的质量部长，有什么可以帮您？"
        },
        "label": "Begin",
        "name": "begin"
      },
      "dragging": false,
      "id": "begin",
      "measured": {
        "height": 44,
        "width": 200
      },
      "position": {
        "x": -642.2041799252354,
        "y": 418.66469343241516
      },
      "selected": false,
      "sourcePosition": "left",
      "targetPosition": "right",
      "type": "beginNode"
    },
    {
      "data": {
        "form": {},
        "label": "Answer",
        "name": "对话_0"
      },
      "dragging": false,
      "id": "Answer:LateCamerasSearch",
      "measured": {
        "height": 44,
        "width": 200
      },
      "position": {
        "x": -331.226967990176,
        "y": 449.9645382163219
      },
      "selected": false,
      "sourcePosition": "right",
      "targetPosition": "left",
      "type": "logicNode"
    },
    {
      "data": {
        "form": {
          "cite": true,
          "frequencyPenaltyEnabled": true,
          "frequency_penalty": 0.7,
          "llm_id": "qwen-max@Tongyi-Qianwen",
          "maxTokensEnabled": false,
          "max_tokens": 256,
          "message_history_window_size": 12,
          "parameters": [],
          "presencePenaltyEnabled": true,
          "presence_penalty": 0.4,
          "prompt": "## **回答要点**\n1. 请基于收到的知识库检索返回内容，按照固定的输出格式给客户给出回答，切记不要胡编乱造！\n2. 严格按照markdown格式输出！；\n3. 如果知识库检索返回内容为空，则直接给出针对用户提问的回答部分“当前问题建议”，并且给客户给出解释“知识库中并无与当前问题相关的历史质量事件，我将基于行业通识给出建议措施，仅供参考！”\n\n知识库检索返回内容为 {Retrieval:RudeClocksMake}\n\n## **输出示例**\n## 历史质量事件回顾\n\n### 案例 1：\n- **发生时间**：\n- **客户名称**：\n- **产品型号**：\n- **问题描述**：\n- **损失情况**：\n- **根本原因**：\n- **改善措施**：\n- **改善效果**：\n\n### 案例 2：\n（如有多个案例，继续列出）\n\n## 当前问题建议：\n（分短期快速控制措施、长期系统性改进建议两类进行阐述）",
          "temperature": 0.1,
          "temperatureEnabled": true,
          "topPEnabled": true,
          "top_p": 0.3
        },
        "label": "Generate",
        "name": "生成回答_1"
      },
      "dragging": false,
      "id": "Generate:NewHorsesBuy",
      "measured": {
        "height": 102,
        "width": 200
      },
      "position": {
        "x": -24.997879231796816,
        "y": 109.0903220902255
      },
      "selected": false,
      "sourcePosition": "right",
      "targetPosition": "left",
      "type": "generateNode"
    },
    {
      "data": {
        "form": {
          "frequencyPenaltyEnabled": true,
          "frequency_penalty": 0.7,
          "language": "",
          "llm_id": "qwen-max@Tongyi-Qianwen",
          "maxTokensEnabled": false,
          "max_tokens": 256,
          "message_history_window_size": 12,
          "parameter": "Precise",
          "presencePenaltyEnabled": true,
          "presence_penalty": 0.4,
          "temperature": 0.1,
          "temperatureEnabled": true,
          "topPEnabled": true,
          "top_p": 0.3
        },
        "label": "RewriteQuestion",
        "name": "问题优化"
      },
      "dragging": false,
      "id": "RewriteQuestion:SmartSingersAttend",
      "measured": {
        "height": 102,
        "width": 200
      },
      "position": {
        "x": -49.00515535852884,
        "y": 413.3460620744836
      },
      "selected": false,
      "sourcePosition": "right",
      "targetPosition": "left",
      "type": "rewriteNode"
    },
    {
      "data": {
        "form": {
          "kb_ids": [],
          "keywords_similarity_weight": 0.3,
          "query": [
            {
              "component_id": "Answer:LateCamerasSearch",
              "type": "reference"
            }
          ],
          "similarity_threshold": 0.14,
          "top_n": 3,
          "use_kg": false
        },
        "label": "Retrieval",
        "name": "知识检索_0"
      },
      "dragging": false,
      "id": "Retrieval:RudeClocksMake",
      "measured": {
        "height": 64,
        "width": 200
      },
      "position": {
        "x": 256.24121906617927,
        "y": 366.8098771562748
      },
      "selected": false,
      "sourcePosition": "right",
      "targetPosition": "left",
      "type": "retrievalNode"
    }
  ],
  "edges": [
    {
      "id": "xy-edge__begin-Answer:LateCamerasSearchc",
      "markerEnd": "logo",
      "source": "begin",
      "style": {
        "stroke": "rgb(202 197 245)",
        "strokeWidth": 2
      },
      "target": "Answer:LateCamerasSearch",
      "targetHandle": "c",
      "type": "buttonEdge",
      "zIndex": 1001
    },
    {
      "id": "xy-edge__Generate:NewHorsesBuyc-Answer:LateCamerasSearchc",
      "markerEnd": "logo",
      "source": "Generate:NewHorsesBuy",
      "sourceHandle": "c",
      "style": {
        "stroke": "rgb(202 197 245)",
        "strokeWidth": 2
      },
      "target": "Answer:LateCamerasSearch",
      "targetHandle": "c",
      "type": "buttonEdge",
      "zIndex": 1001
    },
    {
      "id": "xy-edge__Retrieval:RudeClocksMakeb-Generate:NewHorsesBuyb",
      "markerEnd": "logo",
      "source": "Retrieval:RudeClocksMake",
      "sourceHandle": "b",
      "style": {
        "stroke": "rgb(202 197 245)",
        "strokeWidth": 2
      },
      "target": "Generate:NewHorsesBuy",
      "targetHandle": "b",
      "type": "buttonEdge",
      "zIndex": 1001
    },
    {
      "id": "xy-edge__Answer:LateCamerasSearchb-RewriteQuestion:SmartSingersAttendc",
      "markerEnd": "logo",
      "source": "Answer:LateCamerasSearch",
      "sourceHandle": "b",
      "style": {
        "stroke": "rgb(202 197 245)",
        "strokeWidth": 2
      },
      "target": "RewriteQuestion:SmartSingersAttend",
      "targetHandle": "c",
      "type": "buttonEdge",
      "zIndex": 1001
    },
    {
      "id": "xy-edge__RewriteQuestion:SmartSingersAttendb-Retrieval:RudeClocksMakec",
      "markerEnd": "logo",
      "source": "RewriteQuestion:SmartSingersAttend",
      "sourceHandle": "b",
      "style": {
        "stroke": "rgb(202 197 245)",
        "strokeWidth": 2
      },
      "target": "Retrieval:RudeClocksMake",
      "targetHandle": "c",
      "type": "buttonEdge",
      "zIndex": 1001
    }
  ],
  "avatar": "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MCIgaGVpZ2h0PSI1MCIgdmlld0JveD0iMCAwIDUwIDUwIiBmaWxsPSJub25lIj4KICA8cmVjdCB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNEQzE0M0MiIHJ4PSI4Ii8+CiAgPHBvbHlnb24gcG9pbnRzPSIyNS4wMDAwMjIxMTMyNDgyNzgsOC4zMzMzMzMzMzMzNDgwMDEgMjkuODk4MjE1ODAyNzY3MTU1LDE4LjI1ODE5NTYxMjg5NjYwNyA0MC44NTA5NDMzMDQ5MjU5MDYsMTkuODQ5NzIwOTY2NjA3NDk2IDMyLjkyNTQ3MTY1MjQ2Mjk1LDI3LjU3NTEzOTUxNjY5NjI1IDM0Ljc5NjQzMTYwNTUzNDMxLDM4LjQ4MzYwODc3NDIwNjc4NiAyNS4wMDAwMTEwNTY2MjQxNCwzMy4zMzMzMzMzMzMzMjU5OTYgMTUuMjAzNjA0MTc0NDY2ODA2LDM4LjQ4MzYzNDc2OTg3MDIzNSAxNy4wNzQ1MzUxODA5Mjg4OSwyNy41NzUxNjA1NDc2Mzc4NyA5LjE0OTA0MzAyODQwMjAyMywxOS44NDk3NjMwMjg1MjcwMDQgMjAuMTAxNzY2MzA3MjY2Nzc1LDE4LjI1ODIwODYxMDc3NTgwMyIgZmlsbD0id2hpdGUiLz4KPC9zdmc+"
}